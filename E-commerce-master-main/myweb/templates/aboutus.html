{% extends "nav.html" %}
{% load static %}

{% block body %}

<main class="container">
 
    <!-- Left Column / Headphones Image -->
    <div class="left-column">
      <img data-image="black" src="/media/{{myproduct.image}}" width="700" height="500" alt="">
    </div>
   
   
    <!-- Right Column -->
    <div class="right-column">
   
      <!-- Product Description -->
      <div class="product-description">
        <span>{{myproduct.category}}</span>
        <h1>{{myproduct.product_name}}</h1>
        <p>The preferred choice of a vast range of acclaimed DJs. Punchy, bass-focused sound and high isolation. Sturdy headband and on-ear cushions suitable for live performance</p>
      </div>
   
      <!-- Product Configuration -->
      <div class="product-configuration">
   
        <!-- Product Color -->
        <div class="product-color">
          <span>Color</span>
   
          <div class="color-choose">
            <div>
              <input data-image="red" type="radio" id="red" name="color" value="red" checked>
              <label for="red"><span></span></label>
            </div>
            <div>
              <input data-image="blue" type="radio" id="blue" name="color" value="blue">
              <label for="blue"><span></span></label>
            </div>
            <div>
              <input data-image="black" type="radio" id="black" name="color" value="black">
              <label for="black"><span></span></label>
            </div>
          </div>
   
        </div>
   
        <!-- Cable Configuration -->
        <div class="cable-config">
          <span>Cable configuration</span>
   
          <div class="cable-choose">
            <button>Straight</button>
            <button>Coiled</button>
            <button>Long-coiled</button>
          </div>
   
          <a href="#">How to configurate your headphones</a>
        </div>
      </div>
   
      <!-- Product Pricing -->
      <div class="product-price">
        <span>{{myproduct.price}}$</span>
        <a href="#" class="cart-btn">Add to cart</a>
        <br>
        <br>
        <br>
        <br>
        <br>
      </div>
    </div>

</main>
<script>
console.log('it is working');
if(localStorage.getItem('cart')==null){
  var cart={};
} 
else{
  cart=JSON.parse(localStorage.getItem('cart'));
  {% comment %} else == when local storage me cart null nahi hai {% endcomment %}
  document.getElementById('cart').innerHTML = Object.keys(cart).length;
}
{% comment %} stating j quert {% endcomment %}
$('.cart').click(function(){

  console.log('clicked');
  var idstr= this.id.toString();
  console.log(idstr);
  if(cart[idstr]!= undefined) {
  cart[idstr] = cart[idstr]+1;
  }
  else{
  cart[idstr] = 1;
    
  }
  console.log(cart);
  localStorage.setItem('cart', JSON.stringify(cart));
  {% comment %} storing to localstorage by setItem  {% endcomment %}
  document.getElementById('cart').innerHTML = Object.keys(cart).length;
  });

  
</script>
{% endblock body %}